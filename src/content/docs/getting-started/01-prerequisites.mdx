---
title: Prerequisites
description: Hardware and network requirements for running OtterScale.
---

import { Card, CardGrid, Aside, Badge } from '@astrojs/starlight/components';

<Aside>
	The **Control Node** acts as the management hub and operates independently outside the cluster
	system.
</Aside>

## OtterScale Control Node

Before installing OtterScale, ensure your environment meets the following specifications.

### Operating System

This is a specific version of Linux. If you're using a different operating system, you'll need to install Ubuntu 24.04 LTS first.

| Component | Requirement                     |
| :-------- | :------------------------------ |
| **OS**    | **Ubuntu 24.04 LTS** (Required) |

### Hardware Requirements

These are the minimum requirements for the control node. More is always better for performance.

| Resource       | Minimum Requirement      |
| :------------- | :----------------------- |
| **CPU**        | 8 Cores                  |
| **Memory**     | 16 GB RAM                |
| **Disk Space** | 100 GB available storage |

### Network Configuration

The installer will help set up networking - no manual configuration needed.

- **Connectivity:** At least one network interface with external internet access.
- **Bridge Configuration:** The installation script will check for network bridge `br-otters`.
  - _Existing:_ If the bridge exists, it will be used.
  - _Missing:_ If the bridge does not exist, the script will prompt to select an existing bridge or create a new one automatically.

---

<Aside>
	**Server nodes** need to be commissioned manually by creating a **Scope** through the web
	interface, then provisioned with just a few clicks.
</Aside>

## K8S Nodes (Server Nodes)

Ensure the following settings are configured on your server hosts.

### BIOS Configuration

1.  **BMC Settings:**
    - **BMC Static IP:** Set a static IP for the BMC to ensure stable management access.
    - **Boot Order:** Enable BMC Network and prioritize **Network Boot** in the boot order.
2.  **Boot Options:**
    - **Boot Mode:** Set to **UEFI**.
      - **Why not Legacy?** Legacy mode is not recommended as it limits boot drive size to 2TB, lacks modern security features, and does not support GPT partitioning, which is standard for modern deployments.
    - **Fast Boot:** **Disable** Fast Boot to ensure thorough hardware initialization.
3.  **CPU Virtualization:**
    - **Intel:** Enable `VMX`, `VT-d`, or `VT-x`.
    - **AMD:** Enable `SVM` or `AMD-V`.

### Hardware Requirements

| Resource    | Minimum Requirement                                 |
| :---------- | :-------------------------------------------------- |
| **Storage** | At least **2 Block disks** or **2 Physical drives** |

---

## Network IP Requirement

Ensure you have sufficient IP addresses available in your subnet.

| Usage                   | Quantity | Description                                                                    |
| :---------------------- | :------- | :----------------------------------------------------------------------------- |
| **OS System**           | 1        | Used for the ingress controller.                                               |
| **OtterScale**          | 1        | **Required from user.**A second IP in the same subnet for OtterScale services. |
| **Juju Controller**     | 1        | Used by the Canonical Juju controller.                                         |
| **MAAS (DHCP)**         | 2        | Used for MAAS dynamic IP allocation.                                           |
| **Kubernetes and Ceph** | 9 + N    | Used for Kubernetes and Ceph services.                                         |

**Total Estimated IPs:** 14 + N (where N is the number of servers)

---

<Aside>
	**These firewall rules are for reference only.** Actual requirements depend on the applications
	you install later. For easier management, consider using a dedicated VLAN instead of configuring
	firewall rules on each machine.
</Aside>

## Firewall Configuration

The installation process requires outbound access to various external services. Please whitelist the following domains and ports.

<details>
<summary>Canonical</summary>

| Domains                         | Port(s)         |
| :------------------------------ | :-------------- |
| `api.charmhub.io`               | TCP 443 (HTTPS) |
| `api.jujucharms.com`            | TCP 443 (HTTPS) |
| `changelogs.ubuntu.com`         | TCP 443 (HTTPS) |
| `charmhub.io`                   | TCP 443 (HTTPS) |
| `cloud-images.ubuntu.com`       | TCP 443 (HTTPS) |
| `maas.ubuntu.com`               | TCP 443 (HTTPS) |
| `images.maas.io`                | TCP 443 (HTTPS) |
| `juju.is`                       | TCP 443 (HTTPS) |
| `jaas.ai`                       | TCP 443 (HTTPS) |
| `streams.canonical.com`         | TCP 443 (HTTPS) |
| `objects.githubusercontent.com` | TCP 443 (HTTPS) |
| `contracts.canonical.com`       | TCP 443 (HTTPS) |
| `images.maas.io`                | TCP 80 (HTTP)   |

</details>

<details>
<summary>Snap Package</summary>

| Domains                                    | Port(s)         |
| :----------------------------------------- | :-------------- |
| `snapcraft.io`                             | TCP 443 (HTTPS) |
| `api.snapcraft.io`                         | TCP 443 (HTTPS) |
| `storage.snapcraftcontent.com`             | TCP 443 (HTTPS) |
| `canonical-lgw01.cdn.snapcraftcontent.com` | TCP 443 (HTTPS) |
| `canonical-lcy01.cdn.snapcraftcontent.com` | TCP 443 (HTTPS) |
| `canonical-lcy02.cdn.snapcraftcontent.com` | TCP 443 (HTTPS) |
| `canonical-bos01.cdn.snapcraftcontent.com` | TCP 443 (HTTPS) |

</details>

<details>
<summary>Ubuntu Repositories</summary>

| Domains                 | Port(s)                           |
| :---------------------- | :-------------------------------- |
| `tw.archive.ubuntu.com` | TCP 443 (HTTPS)<br/>TCP 80 (HTTP) |
| `archive.ubuntu.com`    | TCP 443 (HTTPS)<br/>TCP 80 (HTTP) |
| `ports.ubuntu.com`      | TCP 443 (HTTPS)<br/>TCP 80 (HTTP) |
| `security.ubuntu.com`   | TCP 443 (HTTPS)<br/>TCP 80 (HTTP) |
| `esm.ubuntu.com`        | TCP 443 (HTTPS)<br/>TCP 80 (HTTP) |

</details>

<details>
<summary>GitHub</summary>

| Domains                                | Port(s)         |
| :------------------------------------- | :-------------- |
| `github.com`                           | TCP 443 (HTTPS) |
| `raw.githubusercontent.com`            | TCP 443 (HTTPS) |
| `release-assets.githubusercontent.com` | TCP 443 (HTTPS) |

</details>

<details>
<summary>Kubernetes</summary>

| Domains                                                                        | Port(s)         |
| :----------------------------------------------------------------------------- | :-------------- |
| `registry.k8s.io`                                                              | TCP 443 (HTTPS) |
| `k8s.gcr.io`                                                                   | TCP 443 (HTTPS) |
| `ghcr.io`                                                                      | TCP 443 (HTTPS) |
| `coredns`                                                                      | TCP 443 (HTTPS) |
| `d39mqg4b1dx9z1.cloudfront.net`                                                | TCP 443 (HTTPS) |
| `storage.googleapis.com`                                                       | TCP 443 (HTTPS) |
| `nvcr.io`                                                                      | TCP 443 (HTTPS) |
| `auth.docker.io`                                                               | TCP 443 (HTTPS) |
| `auth.docker.com`                                                              | TCP 443 (HTTPS) |
| `login.docker.com`                                                             | TCP 443 (HTTPS) |
| `cdn.auth0.com`                                                                | TCP 443 (HTTPS) |
| `docker.io`                                                                    | TCP 443 (HTTPS) |
| `hub.docker.com`                                                               | TCP 443 (HTTPS) |
| `registry-1.docker.io`                                                         | TCP 443 (HTTPS) |
| `index.docker.io`                                                              | TCP 443 (HTTPS) |
| `production.cloudflare.docker.com`                                             | TCP 443 (HTTPS) |
| `docker-images-prod.6aa30f8b08e16409b46e0173d6de2f56.r2.cloudflarestorage.com` | TCP 443 (HTTPS) |
| `registry.cn-hangzhou.aliyuncs.com`                                            | TCP 443 (HTTPS) |

</details>

<details>
<summary>HuggingFace</summary>

| Domains                  | Port(s)         |
| :----------------------- | :-------------- |
| `huggingface.co`         | TCP 443 (HTTPS) |
| `cdn-lfs.huggingface.co` | TCP 443 (HTTPS) |
| `cdn.huggingface.co`     | TCP 443 (HTTPS) |

</details>

<details>
<summary>RedHat Models</summary>

| Domains                      | Port(s)         |
| :--------------------------- | :-------------- |
| `registry.redhat.io`         | TCP 443 (HTTPS) |
| `quay.io`                    | TCP 443 (HTTPS) |
| `registry.access.redhat.com` | TCP 443 (HTTPS) |

</details>

<details>
<summary>HELM Charts</summary>

| Domains                                | Port(s)         | Description   |
| :------------------------------------- | :-------------- | :------------ |
| `otterscale.github.io`                 | TCP 443 (HTTPS) | #OtterScale   |
| `charts.jetstack.io`                   | TCP 443 (HTTPS) | #Cert-manager |
| `open-feature.github.io`               | TCP 443 (HTTPS) | #Open-feature |
| `istio-release.storage.googleapis.com` | TCP 443 (HTTPS) | #Istio        |
| `prometheus-community.github.io`       | TCP 443 (HTTPS) | #prometheus   |
| `project-hami.github.io`               | TCP 443 (HTTPS) | #HAMi         |
| `helm.ngc.nvidia.com`                  | TCP 443 (HTTPS) | #Nvidia       |
| `cloudnative-pg.github.io/charts`      | TCP 443 (HTTPS) | #CloudNative  |
| `llm-d.ai`                             | TCP 443 (HTTPS) | #llm-d        |
| `codecentric.github.io`                | TCP 443 (HTTPS) | #KeyCloak     |
| `charts.bitnami.com`                   | TCP 443 (HTTPS) | #Bitnami      |

</details>
