---
title: Object
description: Manage Ceph Object Gateway (RGW) buckets and users.
---

import { Steps, Aside, Card, CardGrid } from '@astrojs/starlight/components';

The Object page allows you to manage the Ceph Object Gateway (RGW), which provides an S3-compatible object storage interface. You can manage buckets for storing objects and users for controlling access.

The page is divided into two main sections: **Bucket** and **User**.

## Bucket

The Bucket section allows you to manage S3 buckets.

### Statistics Overview

At the top of the page, you will find a dashboard summarizing the state of S3 storage:

<CardGrid>
	<Card title="Bucket" icon="tabler:bucket">
		The total number of S3 buckets currently defined in the system. 

		The RGW endpoint IP that clients use to access the bucket via S3-compatible APIs.
	</Card>
	<Card title="Usage" icon="tabler:chart-pie">
		The combined storage consumption across all buckets, including object data and metadata overhead.
	</Card>
</CardGrid>

### Introduction

The Bucket table displays a list of all buckets. The table includes the following information:

| Column           | Description                                                                 |
| :--------------- | :-------------------------------------------------------------------------- |
| **Name**         | The name of the bucket.                                                     |
| **Owner**        | The user ID of the bucket owner.                                            |
| **Usage**        | The total size of objects stored in the bucket.                             |
| **Created Time** | Displays how long ago the bucket was created, relative to the current time. |

### Create Bucket

You can create new buckets to store your data.

<Steps>

1.  Click the **Create** button.
2.  **Name**: Enter a unique name for the bucket.
3.  **Owner**: Select the owner of the bucket from the list of users.
4.  **Policy** (Optional): Enter a JSON policy to define access permissions. You can use the provided links to generate or reference AWS policies.
5.  **Access Control List** (Optional): Select a canned ACL (e.g., `private`, `public-read`) to define basic access permissions.
6.  Click **Confirm** to create the bucket.

</Steps>

### Access Bucket

Use the following example to access a bucket and verify that the user’s access keys can perform basic S3 operations.

#### Prerequisites

- The RGW endpoint IP is reachable from the client.
- A client machine with:
	- Python 3
	- The boto3 library installed.
```bash
	pip install boto3
```

<Steps>

1. Create a user in User section.
2. Create an access key for the user and copy the secret key.
3. Create a bucket and assign the user as the owner. The bucket owner always has full control of the bucket regardless of the selected ACL.
4. Export the RGW endpoint IP and credentials as environment variables:
	```bash
	export RGW_ENDPOINT="http://<RGW_IP>:80"
	export AWS_ACCESS_KEY_ID="<ACCESS_KEY>"
	export AWS_SECRET_ACCESS_KEY="<SECRET_KEY>"
	export BUCKET_NAME="<BUCKET_NAME>"
	export AWS_DEFAULT_REGION="us-east-1"
	```
5. Create a script file (for example, rgw_test.py) and run it to test PUT / GET / DELETE:
	```Python
	#!/usr/bin/env python3
	import os
	import uuid
	import boto3
	from botocore.client import Config
	from botocore.exceptions import ClientError

	RGW_ENDPOINT = os.environ["RGW_ENDPOINT"]
	ACCESS_KEY = os.environ["AWS_ACCESS_KEY_ID"]
	SECRET_KEY = os.environ["AWS_SECRET_ACCESS_KEY"]
	BUCKET_NAME = os.environ["BUCKET_NAME"]
	REGION = os.environ.get("AWS_DEFAULT_REGION", "us-east-1")

	def main():
		s3 = boto3.client(
			"s3",
			endpoint_url=RGW_ENDPOINT,
			aws_access_key_id=ACCESS_KEY,
			aws_secret_access_key=SECRET_KEY,
			region_name=REGION,
			config=Config(signature_version="s3v4"),
		)

		test_key = f"rgw-test-{uuid.uuid4()}.txt"
		body = "Hello Ceph RGW via boto3!\nThis is a test object.\n"

		# 1) PUT
		print(f"[1] PUT: s3://{BUCKET_NAME}/{test_key}")
		s3.put_object(Bucket=BUCKET_NAME, Key=test_key, Body=body.encode("utf-8"))
		print("    ✅ PUT OK")

		# 2) GET
		print(f"[2] GET: s3://{BUCKET_NAME}/{test_key}")
		resp = s3.get_object(Bucket=BUCKET_NAME, Key=test_key)
		print("    ✅ GET OK")
		_ = resp["Body"].read()

		# 3) DELETE
		print(f"[4] DELETE: {test_key} and {test_key}")
		s3.delete_object(Bucket=BUCKET_NAME, Key=test_key)
		print("    ✅ DELETE OK")

		print("[✔] Verification completed successfully.")

	if __name__ == "__main__":
		try:
			main()
		except ClientError as e:
			print("❌ S3 operation failed:")
			print(e)
			raise
	```
	```bash
	python3 rgw_test.py
	```

6. Confirm that all steps return success messages.

	The script should print:

	- PUT OK
	- GET OK
	- DELETE OK

</Steps>



### Manage Buckets

You can modify or delete existing buckets using the **Actions** menu.

#### Edit Bucket

Allows you to update the bucket's owner, policy, or ACL.

<Steps>

1.  Select **Edit** from the actions menu (pencil icon).
2.  Update the **Owner**, **Policy**, or **Access Control List** as needed.
3.  Click **Confirm** to save changes.

</Steps>

#### Delete Bucket

Permanently removes a bucket and all its objects.

<Steps>

1.  Select **Delete** from the actions menu (trash icon).
2.  Type the name of the bucket to confirm deletion.
3.  Click **Confirm** to permanently delete the bucket.

</Steps>

<Aside type="danger">
	Deleting an Object bucket is irreversible. Ensure that you have backed up any critical data.
</Aside>

## User

The User section allows you to manage RGW users and their access keys.

### Statistics Overview

At the top of the page, you will find a dashboard summarizing the state of S3 user management:

<CardGrid>
	<Card title="User Shares" icon="tabler:users">
		The total number of S3 users registered in the system.
	</Card>
</CardGrid>

### Introduction

The User table displays a list of all users. The table includes the following information:

| Column        | Description                                                                                                                         |
| :------------ | :---------------------------------------------------------------------------------------------------------------------------------- |
| **ID**        | The unique identifier of the user.                                                                                                  |
| **Name**      | The display name of the user.                                                                                                       |
| **Suspended** | Indicates whether the user account is suspended.                                                                                    |
| **Key**       | The number of access keys associated with the user. Clicking the external link icon opens a detailed view of the [keys](#key-list). |

### Create User

You can create new users to access the object storage.

<Steps>

1.  Click the **Create** button.
2.  **ID**: Enter a unique identifier for the user.
3.  **Name**: Enter a display name for the user.
4.  **Suspend**: Toggle to create the user in a suspended state.
5.  Click **Confirm** to create the user.

</Steps>

### Manage Users

You can modify or delete existing users using the **Actions** menu.

#### Edit User

Allows you to update the user's name or suspension status.

<Steps>

1.  Select **Edit** from the actions menu (pencil icon).
2.  Update the **Name** or **Suspend** status.
3.  Click **Confirm** to save changes.

</Steps>

#### Delete User

Permanently removes a user.

<Steps>

1.  Select **Delete** from the actions menu (trash icon).
2.  Type the ID of the user to confirm deletion.
3.  Click **Confirm** to permanently delete the user.

</Steps>

<Aside type="danger">
	Deleting an Object user is irreversible. Ensure that you have backed up any critical data.
</Aside>

### Manage Keys

Access keys are used to authenticate requests to the object storage service. You can view and manage keys by clicking the external link icon in the **Key** column.

#### Key List

The key list displays the following information:

| Column         | Description                                  |
| :------------- | :------------------------------------------- |
| **Access Key** | The access key ID.                           |

#### Create Key

You can generate new access keys for a user.

<Steps>

1.  Click the **Create** button within the key management view.
2.  The system will generate a new access key and secret key.

</Steps>

#### Delete Key

Permanently removes an access key.

<Steps>

1.  Select **Delete** from the actions menu (trash icon).
2.  Confirm the deletion.

</Steps>

<Aside type="danger">
	Deleting an Object key is irreversible. Ensure that you have backed up any critical data.
</Aside>